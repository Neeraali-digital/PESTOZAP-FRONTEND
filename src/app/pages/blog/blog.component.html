<!-- Hero Banner -->
<section class="relative py-20 bg-black overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-br from-brand/10 via-transparent to-brand/5"></div>
  <div class="relative z-10 max-w-7xl mx-auto px-6 lg:px-8 text-center">
    <h1 class="text-4xl lg:text-6xl font-black text-white mb-4 tracking-tight">
      Knowledge <span class="text-brand">Hub</span>
    </h1>
    <p class="text-lg text-gray-300 max-w-2xl mx-auto">
      Stay informed with the latest pest control tips and industry insights
    </p>
  </div>
</section>

<!-- Category Filter -->
<section class="py-12 bg-white">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="flex flex-wrap justify-center gap-4">
      <button 
        *ngFor="let category of categories"
        (click)="selectCategory(category)"
        [class]="selectedCategory === category ? 
          'bg-brand text-white shadow-lg shadow-brand/30' : 
          'bg-gray-100 text-gray-700 hover:bg-gray-200'"
        class="px-8 py-4 rounded-full font-bold text-lg transition-all duration-300 transform hover:scale-105">
        {{ category }}
      </button>
    </div>
  </div>
</section>

<!-- Featured Article Carousel -->
<section class="py-16 bg-gray-50" *ngIf="featuredBlogs.length > 0">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="bg-white rounded-3xl overflow-hidden shadow-2xl relative">
      <div class="grid grid-cols-1 lg:grid-cols-2">
        <div class="relative h-96 lg:h-auto">
          <img *ngIf="currentFeaturedBlog?.image" [src]="currentFeaturedBlog.image" [alt]="currentFeaturedBlog.title" class="w-full h-full object-cover">
          <div *ngIf="!currentFeaturedBlog?.image" class="absolute inset-0 bg-gradient-to-br from-brand/20 to-brand/5 flex items-center justify-center">
            <div class="text-center text-brand">
              <span class="material-icons text-6xl mb-2">image</span>
              <p class="text-sm">No Image Available</p>
            </div>
          </div>
        </div>
        <div class="p-12">
          <div class="inline-flex items-center bg-brand/10 text-brand px-4 py-2 rounded-full mb-6">
            <span class="material-icons mr-2 text-sm">star</span>
            <span class="font-semibold">Featured Article</span>
          </div>
          <h2 class="text-4xl font-black text-gray-900 mb-6">{{currentFeaturedBlog?.title}}</h2>
          <p class="text-xl text-gray-600 mb-8 leading-relaxed">{{currentFeaturedBlog?.excerpt}}</p>
          <div class="flex items-center justify-between mb-8">
            <div class="flex items-center text-gray-500">
              <span class="material-icons mr-2">person</span>
              <span>{{currentFeaturedBlog?.author}}</span>
            </div>
            <div class="flex items-center text-gray-500">
              <span class="material-icons mr-2">schedule</span>
              <span>{{currentFeaturedBlog?.readTime}}</span>
            </div>
          </div>
          <button (click)="readMore(currentFeaturedBlog)" class="inline-flex items-center bg-brand text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-brand-dark transition-all duration-300 transform hover:scale-105">
            Read Article
            <span class="material-icons ml-2">arrow_forward</span>
          </button>
        </div>
      </div>
      
      <!-- Carousel Controls -->
      <div *ngIf="featuredBlogs.length > 1" class="absolute top-1/2 left-4 transform -translate-y-1/2">
        <button (click)="prevFeatured()" class="bg-white/80 hover:bg-white text-gray-800 p-3 rounded-full shadow-lg transition-all">
          <span class="material-icons">chevron_left</span>
        </button>
      </div>
      <div *ngIf="featuredBlogs.length > 1" class="absolute top-1/2 right-4 transform -translate-y-1/2">
        <button (click)="nextFeatured()" class="bg-white/80 hover:bg-white text-gray-800 p-3 rounded-full shadow-lg transition-all">
          <span class="material-icons">chevron_right</span>
        </button>
      </div>
      
      <!-- Carousel Indicators -->
      <div *ngIf="featuredBlogs.length > 1" class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
        <button *ngFor="let blog of featuredBlogs; let i = index" 
                (click)="currentFeaturedIndex = i"
                [class]="'w-3 h-3 rounded-full transition-all ' + (i === currentFeaturedIndex ? 'bg-brand' : 'bg-white/50')">
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Blog Grid -->
<section class="py-24 bg-white">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-4xl lg:text-5xl font-black text-gray-900 mb-6">Latest Articles</h2>
      <p class="text-xl text-gray-600">Expert tips and insights from our pest control professionals</p>
    </div>
    
    <!-- Loading State -->
    <div *ngIf="loading" class="text-center py-12">
      <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-brand"></div>
      <p class="mt-4 text-gray-600">Loading articles...</p>
    </div>

    <!-- No Articles -->
    <div *ngIf="!loading && filteredBlogs.length === 0" class="text-center py-12">
      <span class="material-icons text-gray-400 text-6xl mb-4">article</span>
      <p class="text-xl text-gray-600">No articles found</p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Dynamic Articles from Backend -->
      <article *ngFor="let blog of filteredBlogs; trackBy: trackByBlogId" class="group bg-gray-50 rounded-3xl overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
        <div class="relative h-48 overflow-hidden">
          <img *ngIf="blog.image" [src]="blog.image" [alt]="blog.title" class="w-full h-full object-cover">
          <div *ngIf="!blog.image" class="w-full h-full bg-gradient-to-br from-brand/20 to-brand/5 flex items-center justify-center">
            <div class="text-center text-brand">
              <span class="material-icons text-4xl mb-1">image</span>
              <p class="text-xs">No Image</p>
            </div>
          </div>
          <div class="absolute top-4 left-4">
            <span class="px-3 py-1 bg-brand text-white text-sm font-medium rounded-full">
              {{blog.category}}
            </span>
          </div>
        </div>
        
        <div class="p-6">
          <div class="flex items-center justify-between text-sm text-gray-500 mb-3">
            <span>{{blog.author}}</span>
            <span>{{blog.readTime}}</span>
          </div>
          
          <h3 class="text-xl font-bold text-gray-900 mb-3 group-hover:text-brand transition-colors duration-300">
            {{blog.title}}
          </h3>
          
          <p class="text-gray-600 mb-4 leading-relaxed">
            {{blog.excerpt}}
          </p>
          
          <button (click)="readMore(blog)" class="flex items-center text-brand font-semibold hover:text-brand-dark transition-colors group">
            Read More
            <span class="material-icons ml-1 group-hover:translate-x-1 transition-transform">arrow_forward</span>
          </button>
        </div>
      </article>
    </div>
  </div>
</section>

<!-- Newsletter Subscription -->
<section class="py-24 bg-black">
  <div class="max-w-4xl mx-auto px-6 lg:px-8 text-center">
    <h2 class="text-4xl lg:text-5xl font-black text-white mb-6">
      Stay Updated with Pest Control Tips
    </h2>
    
    <p class="text-xl text-white/70 mb-12 max-w-2xl mx-auto">
      Subscribe to our newsletter and get the latest pest control insights and seasonal tips.
    </p>
    
    <div class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto mb-8">
      <input 
        type="email" 
        placeholder="Enter your email address"
        class="flex-1 px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-brand">
      <button class="px-8 py-4 bg-brand text-white font-bold rounded-2xl hover:bg-brand-dark transition-all duration-300 transform hover:scale-105">
        Subscribe
      </button>
    </div>
    
    <p class="text-sm text-white/50">
      No spam, unsubscribe at any time. We respect your privacy.
    </p>
  </div>
</section>